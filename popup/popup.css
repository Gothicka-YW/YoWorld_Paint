/* --- Sales Boards input cell improvements --- */
.grid .cell {
  display: flex;
  flex-direction: column;
  gap: 6px;
  background: #faf7f7;
  border-radius: 10px;
  box-shadow: 0 1px 2px rgba(126,18,18,0.04);
  padding: 10px 8px 8px 8px;
  border: 1px solid #f0eaea;
  margin-bottom: 2px;
}

/* === 3D button styling (subtle depth) === */
.btn{
  background: linear-gradient(#fdfdfd, #ececec);
  border: 1px solid #cfcfcf;
  border-radius: 10px;
  position: relative;
  box-shadow:
    0 2.5px 0 #c2c2c2,
    0 2px 10px rgba(0,0,0,.06),
    inset 0 1px 0 rgba(255,255,255,.85);
  transform: translateY(0);
  transition: transform .06s ease, box-shadow .12s ease, filter .12s ease, background .12s ease;
}
.btn::before{
  content:"";
  position:absolute; left:0; right:0; top:0; height:50%;
  background: linear-gradient(to bottom, rgba(255,255,255,.45), rgba(255,255,255,.12));
  border-radius: inherit;
  pointer-events: none;
}
.btn:hover{ filter: brightness(0.99); }
.btn:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 #bdbdbd,
    0 1px 6px rgba(0,0,0,.05),
    inset 0 1px 0 rgba(255,255,255,.6);
}
.btn:focus-visible{ outline: 3px solid var(--focus-ring, #7aa2ff); outline-offset:2px; }

.btn-primary{
  background: linear-gradient(var(--accent-1, var(--accent)), var(--accent-2, var(--accent)));
  border-color: var(--accent-border, var(--accent));
  color:#fff;
  box-shadow:
    0 2.5px 0 var(--accent-press, rgba(0,0,0,.2)),
    0 2px 10px var(--accent-shadow, rgba(0,0,0,.12)),
    inset 0 1px 0 rgba(255,255,255,.12);
}
.btn-primary:hover{ filter: brightness(0.98); }
.btn-primary:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 var(--accent-press-active, var(--accent-press, rgba(0,0,0,.2))),
    0 1px 6px var(--accent-shadow, rgba(0,0,0,.12)),
    inset 0 1px 0 rgba(255,255,255,.18);
}

.btn-secondary{
  background: linear-gradient(#ffffff, #f3f3f3);
  border-color: #e0e0e0;
  color: var(--accent);
  box-shadow:
    0 2.5px 0 #d2d2d2,
    0 2px 10px rgba(0,0,0,.05),
    inset 0 1px 0 rgba(255,255,255,.9);
}
.btn-secondary:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 #c8c8c8,
    0 1px 6px rgba(0,0,0,.04),
    inset 0 1px 0 rgba(255,255,255,.7);
}

.btn-sm{ padding:6px 10px; font-size:12px; border-radius:8px; }

/* Red variant alignment */
.btn-red{
  background: linear-gradient(#7f1212, #6e0d0d);
  color:#fff;
  border:1px solid #540a0a;
  box-shadow:
    0 2.5px 0 #4b0909,
    0 2px 10px rgba(110,13,13,.22),
    inset 0 1px 0 rgba(255,255,255,.1);
}
.btn-red:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 #470808,
    0 1px 6px rgba(110,13,13,.18),
    inset 0 1px 0 rgba(255,255,255,.16);
}

/* Disabled state */
.btn[disabled], .btn:disabled{
  opacity: .65;
  cursor: default;
  filter: none;
  box-shadow:
    0 1.5px 0 #d0d0d0,
    0 1px 6px rgba(0,0,0,.03),
    inset 0 1px 0 rgba(255,255,255,.7);
}
/* Make disabled primary look consistent */
#panel-sales .btn.btn--primary:disabled,
#panel-sales .btn.btn--primary[disabled]{
  background: linear-gradient(#caa2a2, #b98989);
  border-color: #9c6f6f;
  color: #f5f5f5;
}
.grid .cell input[data-role="img-url"] {
  border-radius: 7px 7px 0 0;
  border-bottom: none;
  background: #fff;
}
.grid .cell input[data-role="price"] {
  border-radius: 0 0 7px 7px;
  border-top: 1px solid #f0eaea;
  background: #f8f3f3;
  font-size: 13px;
  color: #7e1212;
  font-weight: bold;
  margin-bottom: 0;
}
.price-stack{ position:relative; display:flex; flex-direction:column; }
.price-stack .char-count{ position:absolute; right:6px; bottom:4px; font-size:10px; color:#9b4a4a; opacity:.75; pointer-events:none; }
.price-stack input{ padding-right:46px !important; }
.price-stack .char-count.warn{ color:#b32626; font-weight:600; }
.grid .cell input[data-role] {
  margin: 0;
  box-shadow: none;
  border-width: 1px;
  border-style: solid;
  border-color: #e5dada;
  padding: 7px 10px;
  font-size: 14px;
  transition: border-color .15s, box-shadow .15s;
}
.grid .cell input[data-role]:focus {
  border-color: #7e1212;
  box-shadow: 0 0 0 2px #f3d6d6;
}
.sales-preview .price-wrap {
  text-align: center;
  min-height: 1.5em;
  line-height: 1.5;
  font-size: 15px;
  color: #7e1212;
  font-weight: normal;
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

:root{
  --bg: #4b0c0c;
  --panel-bg: #fff;
  --text: #222;
  --pill-border: #a23b3b;
  --pill-active: #7a1414;
  --pill-text: #fff;
  --accent: #7a1414;
  --muted: #6b6b6b;
}

* { box-sizing: border-box; }
html, body { margin:0; padding:0; overflow: hidden; }
body { width: 450px; background: var(--panel-bg); color: var(--text); }

.app-header{
  background: var(--bg);
  color:#fff; font-weight:700; text-align:center;
  padding:10px 8px; font-size:18px;
}

/* Pill tabs */
nav.tabs{ position:relative; display:flex; align-items:flex-end; gap:10px; padding:8px; background: var(--bg); }
nav.tabs::after{ content:''; position:absolute; left:8px; right:8px; bottom:6px; height:2px; background: var(--pill-border); opacity:.85; }
nav.tabs .tab{
  appearance:none; border:2px solid var(--pill-border);
  border-radius:12px; padding:7px 14px; min-height:34px;
  background:transparent; color:#fff; font-weight:600; cursor:pointer;
  line-height:1.2; transition:background .15s ease, color .15s ease, box-shadow .15s;
}
nav.tabs .tab:hover{ box-shadow: inset 0 0 0 9999px rgba(255,255,255,.06); }
nav.tabs .tab.is-active{ background: var(--pill-active); color: var(--pill-text); }

/* Panels */
#panels{ padding:8px; }
.panel{ display:none; }
.panel.is-active{ display:block; }

/* Themed link colors (exclude button-like anchors) */
.panel a:not(.btn):not(.bmc){ color: var(--link); }
.panel a:not(.btn):not(.bmc):hover{ color: var(--link-hover); }
.panel a:not(.btn):not(.bmc):visited{ color: var(--link-visited); }

/* Home */
.row.switch{ display:flex; align-items:center; gap:12px; margin:8px 0 12px; }

.info-link{ margin-left:auto; color: var(--link); text-decoration:none; }
.info-link:hover{ text-decoration:underline; }

.preview-card{ margin:8px 0; display:flex; justify-content:center; }
.preview{
  width:390px; height:260px; border-radius:8px;
  background: radial-gradient(ellipse at center, #8a0f0f 0%, #2b0000 100%);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.25);
}
.input-row{ margin:10px 0; display:grid; grid-template-columns: 1fr auto; gap:8px; }
.input{ width:100%; border:1px solid #cfcfcf; border-radius:6px; padding:8px; outline:none; }
.input:focus{ border-color:#9bb2f5; box-shadow: 0 0 0 3px rgba(142,169,255,.25); }

.btn{ border:1px solid #cfcfcf; background: linear-gradient(#fdfdfd, #ececec); border-radius:8px; padding:8px 14px; cursor:pointer; }
.btn:hover{ filter:brightness(.98); }
.btn-ghost{ background:transparent; }
.btn-ghost::before{ content:none; }


/* Subtle secondary button */
.btn-secondary{ background:#fafafa; border-color:#e6e6e6; color: var(--accent); text-decoration:none; }
.btn-secondary:hover{ background:#f2f2f2; filter:brightness(.99); }
.btn-sm{ padding:6px 10px; font-size:12px; border-radius:8px; }

.note{ color:#777; font-size:12px; margin:4px 2px; }

/* Sales Boards */
.grid{ display:grid; grid-template-columns: 1fr; gap:8px; }
.grid .cell{ display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
.controls-row{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin:10px 0; }
.controls-row .spacer{ flex:1; }
.sales-preview{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }
.sales-preview .tile{
  display:flex;
  flex-direction:column;
  border-radius: 8px;
  background: #fff;
  border: 1px solid #d9d9d9;
  overflow:hidden;
  position:relative;
}
.sales-preview.dynamic{ width:390px; height:260px; position:relative; margin:8px auto; box-shadow:0 0 0 1px #cfc3c3; background:#fff; }
.sales-preview.dynamic{ will-change:transform; }
.sales-preview-spacer{ pointer-events:none; }
#panel-sales { overflow-x:hidden; }
.sales-preview.dynamic .tile{ box-shadow:0 0 0 1px rgba(0,0,0,.05); }
.sales-preview.dynamic .tile .img-wrap{ overflow:hidden; }
.sales-preview.dynamic .tile .img-wrap img{ width:100%; height:100%; object-fit:cover; }
.sales-preview .tile.drag-over{ outline:2px dashed #7e1212; outline-offset:-2px; }
.sales-preview .tile .img-wrap{ cursor:pointer; }
.sales-preview .tile .img-wrap::after{ content:'Click or Drop'; position:absolute; left:0; right:0; top:0; bottom:0; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:600; color:#7e1212; opacity:0; transition:opacity .15s; background:linear-gradient(to bottom,rgba(255,255,255,.0),rgba(255,255,255,.55)); pointer-events:none; }
.sales-preview .tile .img-wrap:hover::after{ opacity:1; }

/* Layout selector + footer lines */
.layout-row{ display:flex; flex-wrap:wrap; gap:12px; margin:4px 0 6px; align-items:flex-start; }
#panel-sales .layout-row label select{ font-size:12px; }
#footer-inputs input{ font-size:12px; padding:6px 8px; }
.price-wrap.dual{ line-height:1.1; min-height:2.3em; display:flex; flex-direction:column; justify-content:center; }
.price-wrap.dual span{ display:block; max-width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* Resources */
.content-pad{ padding:6px 2px; }
.links{ margin:4px 0 12px 20px; }
.links li{ margin:6px 0; }
.uploader-row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.rule{ border:none; border-top:1px solid rgba(0,0,0,.15); margin:12px 0; }
.meta{ color:#555; font-size:12px; }
.donate{ text-align:center; margin-top:10px; }
.bmc{ display:inline-block; padding:8px 14px; background:#FFDD00; color:#000; font-weight:700; border-radius:8px; text-decoration:none; box-shadow:0 1px 0 rgba(0,0,0,.18), 0 2px 6px rgba(0,0,0,.12); }
.bmc:hover{ filter:brightness(.95); }
.status{ margin-left:6px; opacity:.8; }


/* === Theme variables (defaults + named themes) === */
:root{
  /* base neutrals */
  --panel-bg: #ffffff;
  --text: #1f1f1f;
  --muted: #666;
  /* link colors */
  --link: #6a87c9;
  --link-hover: #8aa0e3;
  --link-visited: #7d8fdb;
  /* tab/pill */
  --pill-border: #b33a3a;
  --pill-active-bg: #ffffff;
  --pill-inactive-bg: transparent;
  --pill-text: #ffffff;
  --pill-active-text: #8a1414;
  /* header gradient stops */
  --hdr-1: #6f0f0f; /* red-700 */
  --hdr-2: #3a0505; /* red-900 */
  /* accent + borders */
  --accent: #8a1414;
  --frame-border: #b33a3a;
  /* accent shades (used for 3D button depth; can be overridden per theme) */
  --accent-1: #9c1a1a;
  --accent-2: #7a1414;
  --accent-border: #5a0f0f;
  --accent-press: #5a0f0f;
  --accent-press-active: #4c0d0d;
  --accent-shadow: rgba(122,20,20,.25);
  /* scroll colors */
  --scroll-thumb: #7a1414;
  --scroll-track: #fff1f1;
}

/* Crimson (default) */
.theme-crimson{
  --panel-bg:#fff;
  --text:#1f1f1f; --muted:#666;
  --pill-border:#b33a3a; --pill-active-bg:#fff; --pill-inactive-bg:transparent; --pill-text:#fff; --pill-active-text:#8a1414;
  --hdr-1:#6f0f0f; --hdr-2:#3a0505;
  --accent:#8a1414; --frame-border:#b33a3a;
  --scroll-thumb:#7a1414; --scroll-track:#fff1f1;
  --focus-ring: rgba(138,20,20,.28);
}

/* Emerald */
.theme-emerald{
  --panel-bg:#ffffff;
  --text:#12322a; --muted:#5b746d;
  --pill-border:#2e8b57; --pill-active-bg:#fff; --pill-inactive-bg:transparent; --pill-text:#fff; --pill-active-text:#226b45;
  --hdr-1:#1f5c43; --hdr-2:#134232;
  --accent:#226b45; --frame-border:#2e8b57;
  --accent-1:#2a8058; --accent-2:#1e5d41; --accent-border:#1a4d37; --accent-press:#1a4d37; --accent-press-active:#143b2b; --accent-shadow: rgba(26,77,55,.22);
  --scroll-thumb:#226b45; --scroll-track:#eef8f2;
  --focus-ring: rgba(34,107,69,.28);
}

/* Midnight */
.theme-midnight{
  --panel-bg:#0f1220;
  --text:#e8eaf6; --muted:#a5acc4;
  --pill-border:#5561aa; --pill-active-bg:#151a2e; --pill-inactive-bg:transparent; --pill-text:#e8eaf6; --pill-active-text:#aab4ff;
  --hdr-1:#1b2250; --hdr-2:#0f1433;
  --accent:#6b78ff; --frame-border:#5561aa;
  --accent-1:#7b87ff; --accent-2:#5b68ff; --accent-border:#3c48b8; --accent-press:#3c48b8; --accent-press-active:#2f3991; --accent-shadow: rgba(60,72,184,.24);
  --scroll-thumb:#6b78ff; --scroll-track:#0d1022;
  --focus-ring: rgba(107,120,255,.35);
  /* softer, readable links on dark bg */
  --link: #aab4ff;
  --link-hover: #c4cbff;
  --link-visited: #9aa3ff;
}

/* Royal */
.theme-royal{
  --panel-bg:#ffffff;
  --text:#231a34; --muted:#6b6280;
  --pill-border:#7a64c9; --pill-active-bg:#ffffff; --pill-inactive-bg:transparent; --pill-text:#fff; --pill-active-text:#614ab6;
  --hdr-1:#6b4fc0; --hdr-2:#4a2f9e;
  --accent:#614ab6; --frame-border:#7a64c9;
  --accent-1:#6a54c0; --accent-2:#573fa8; --accent-border:#4a3490; --accent-press:#4a3490; --accent-press-active:#3b2878; --accent-shadow: rgba(74,52,144,.22);
  --scroll-thumb:#614ab6; --scroll-track:#f3efff;
  --focus-ring: rgba(97,74,182,.30);
}

/* Slate */
.theme-slate{
  --panel-bg:#ffffff;
  --text:#1f2937; --muted:#6b7280;
  --pill-border:#9aa0a6; --pill-active-bg:#ffffff; --pill-inactive-bg:transparent; --pill-text:#111827; --pill-active-text:#111827;
  --hdr-1:#4b5563; --hdr-2:#1f2937;
  --accent:#374151; --frame-border:#9aa0a6;
  --accent-1:#4b5563; --accent-2:#1f2937; --accent-border:#111827; --accent-press:#111827; --accent-press-active:#0b1220; --accent-shadow: rgba(17,24,39,.22);
  --scroll-thumb:#4b5563; --scroll-track:#f3f4f6;
  --focus-ring: rgba(55,65,81,.28);
}

/* Frame */
body{ background:#ececec; }
.app-shell{
  width: 450px; height: 560px;
  margin: 0 auto;
  background: var(--panel-bg);
  border: 2px solid var(--frame-border);
  border-radius: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,.18);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Header */
.app-header{
  background: linear-gradient(180deg,var(--hdr-1),var(--hdr-2));
  color:#fff;
  font-family: "Cinzel Decorative", serif;
  font-weight:700;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
  letter-spacing:.3px;
  text-align:center;
  padding:12px 10px;
  font-size:20px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

/* Pill tabs (two-line capable, Spectral SC) */
nav.tabs{ background: linear-gradient(180deg,var(--hdr-1),var(--hdr-2)); padding:8px 12px 10px 8px; display:flex; gap:4px; align-items:flex-end; justify-content:center; position:relative; }
nav.tabs::after{ content:''; position:absolute; left:8px; right:12px; bottom:6px; height:2px; background: var(--pill-border); opacity:.8; }
nav.tabs .tab{
  font-family: "Spectral SC", serif;
  font-weight:600;
  letter-spacing:.15px;
  color:#fff;
  background: var(--pill-inactive-bg);
  border: 1.5px solid var(--pill-border);
  border-radius: 10px;
  min-height: 30px;
  padding: 4px 7px;
  line-height:1.12;
  font-size: 12px;
  white-space: nowrap;
  /* Content-sized tabs */
  flex: 0 0 auto;
  min-width: auto;
  text-align:center;
  cursor:pointer;
  transition: background .15s ease, color .15s ease, box-shadow .15s ease;
}
nav.tabs .tab:hover{ box-shadow: inset 0 0 0 9999px rgba(255,255,255,.06); }
nav.tabs .tab.is-active{
  background: var(--pill-active-bg);
  color: var(--pill-active-text);
  box-shadow: 0 1px 0 rgba(0,0,0,.12);
}

/* Panels */
#panels{ padding:12px 12px 16px; flex: 1 1 auto; overflow-y: auto; scrollbar-gutter: stable both-edges; scrollbar-width: thin; scrollbar-color: var(--scroll-thumb, var(--accent)) var(--scroll-track, #f1f1f1); }
.panel{ display:none; color: var(--text); overflow: visible; }
.panel.is-active{ display:block; }

/* Home */
.row.switch{ display:flex; align-items:center; gap:12px; margin:8px 0 12px; }

.info-link{ margin-left:auto; color:#6a87c9; text-decoration:none; }
.info-link:hover{ text-decoration:underline; }

.preview-card{ margin:8px 0; display:flex; justify-content:center; }
.preview{
  width:390px; height:260px; border-radius:8px;
  background: radial-gradient(ellipse at center, #8a0f0f 0%, #2b0000 100%);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.25);
}
.input-row{ margin:12px 0; display:grid; grid-template-columns: 1fr auto; gap:10px; }
.input{ width:100%; border:1px solid #cfcfcf; border-radius:8px; padding:10px 12px; outline:none; font: inherit; }
.input:focus{ border-color: var(--accent); box-shadow: 0 0 0 3px var(--focus-ring, rgba(142,169,255,.25)); }

.btn{ border:1px solid #cfcfcf; background: linear-gradient(#fdfdfd, #ececec); border-radius:10px; padding:10px 14px; cursor:pointer; font:inherit; }
.btn:hover{ filter:brightness(.98); }
.btn:focus-visible{ outline: 3px solid #7aa2ff; outline-offset:2px; }
.btn-ghost{ background:transparent; }
.btn-primary{ background: var(--accent); border-color: var(--accent); color:#fff; }
.btn-primary:hover{ filter:brightness(.95); }

.note{ color:var(--muted); font-size:12px; margin:4px 2px; }

/* Sales */
.grid{ display:grid; grid-template-columns: 1fr; gap:10px; }
.grid .cell{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.controls-row{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin:12px 0; }
.controls-row .spacer{ flex:1; }
.sales-preview{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }
.sales-preview .tile{
  display:flex;
  flex-direction:column;
  border-radius: 8px;
  background: #fff;
  border: 1px solid #d9d9d9;
  overflow:hidden;
  position:relative;
}

/* Resources */
.content-pad{ padding:6px 2px; }
.links{ margin:4px 0 12px 20px; }
.links li{ margin:6px 0; }
.uploader-row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.rule{ border:none; border-top:1px solid rgba(0,0,0,.15); margin:12px 0; }
.meta{ color:#555; font-size:12px; }
.donate{ text-align:center; margin-top:10px; }
.bmc{ display:inline-block; padding:8px 14px; background:#FFDD00; color:#000; font-weight:700; border-radius:8px; text-decoration:none; box-shadow:0 1px 0 rgba(0,0,0,.18), 0 2px 6px rgba(0,0,0,.12); }
.bmc:hover{ filter:brightness(.95); }
.status{ margin-left:6px; opacity:.8; }


/* FAQ formatting */
.faq h3{ font-family:"Spectral SC", serif; font-weight:600; margin:10px 0 6px; color: var(--accent); }
.faq ol{ padding-left: 22px; margin: 6px 0 10px; }
.faq ul{ padding-left: 20px; margin: 6px 0 10px; }
.faq li{ margin: 6px 0; }
.faq code{ background:#f7f7f7; border:1px solid #ececec; border-radius:5px; padding:1px 4px; }
.faq .tip{ display:flex; gap:10px; align-items:flex-start; background:#fff6d6; border:1px solid #f1e2a9; border-radius:10px; padding:10px 12px; margin-top:12px; }
.faq .tip .star{ font-size:18px; line-height:18px; }

/* --- Anti-shift: keep layout stable across tabs --- */
.tabs-content, .tab-panel, .tab-panel .panel-body {
  overflow-y: auto;
  scrollbar-gutter: stable both-edges;
}
/* Ensure all tab panels share the same min height to avoid vertical jumps */
.tab-panel {
  min-height: 520px; /* adjust if your popup is taller/shorter */
}

/* --- Anti-shift v2: make scroll space consistent & prevent width jump --- */
#panels { overflow-y: auto; scrollbar-gutter: stable both-edges; }
.panel  { overflow: visible; min-height: 0; }

/* Internal red-themed scrollbar for the panels area (Chrome/WebKit) */
#panels::-webkit-scrollbar { width: 12px; }
#panels::-webkit-scrollbar-track { background: #fff1f1; border-left: 1px solid #f1c6c6; }
#panels::-webkit-scrollbar-thumb { background: var(--scroll-thumb, var(--red-accent)); border: 3px solid var(--scroll-track, #fff1f1); border-radius: 10px; }
#panels::-webkit-scrollbar-thumb:hover { filter: brightness(1.05); }

.sales-preview .tile{
  display:flex;
  flex-direction:column;
  border-radius: 8px;
  background: #fff;
  border: 1px solid #d9d9d9;
  overflow:hidden;
  position:relative;
}
.sales-cap{ position:absolute; left:6px; right:6px; bottom:6px; color:#fff; text-align:center; text-shadow:0 1px 2px rgba(0,0,0,.8); pointer-events:none; }


/* Sales Boards layout tuning */
.sales-preview{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 6px;
  width: 100%;
  height: 260px;
  box-sizing: border-box;
}
.sales-preview .tile{
  display:flex;
  flex-direction:column;
  border-radius: 8px;
  background: #fff;
  border: 1px solid #d9d9d9;
  overflow:hidden;
  position:relative;
}
/* Maximize image area in grid tile */
.sales-preview .tile .img-wrap{
  flex: 1 1 auto;
  position: relative;
  background: #fff;
  min-height: 90px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.sales-preview .tile .img-wrap img{
  display: block;
  max-width: 100%;
  max-height: 100%;
  margin: 0 auto;
  object-fit: contain;
}
#panel-sales .btn.btn--primary{
  background: linear-gradient(var(--accent-1, var(--accent)), var(--accent-2, var(--accent)));
  color: #fff;
  border-color: var(--accent-border, var(--accent));
  box-shadow:
    0 2.5px 0 var(--accent-press, rgba(0,0,0,.2)),
    0 2px 10px var(--accent-shadow, rgba(0,0,0,.12)),
    inset 0 1px 0 rgba(255,255,255,.12);
}
#panel-sales .btn.btn--primary:hover{ filter: brightness(0.98); }
#panel-sales .btn.btn--primary:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 var(--accent-press-active, var(--accent-press, rgba(0,0,0,.2))),
    0 1px 6px var(--accent-shadow, rgba(0,0,0,.12)),
    inset 0 1px 0 rgba(255,255,255,.18);
}

.btn-red{background:#6e0d0d;color:#fff;border:1px solid #540a0a}.btn-red:hover{filter:brightness(1.05)}

/* === Slider Toggle (Enable Redirect) === */
.row.switch { display:flex; align-items:center; gap:12px; }  /* safe duplicate */

.toggle {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: none;
}

/* hide native checkbox (accessible) */
.toggle input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

/* track */
.toggle .slider {
  position: relative;
  width: 44px;
  height: 24px;
  background: #cfd3d8;               /* off color */
  border-radius: 999px;
  transition: background .2s ease;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

/* knob */
.toggle .slider::before {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  left: 2px;
  top: 2px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0,0,0,.25);
  transition: transform .2s ease;
}

/* on state */
.toggle input:checked + .slider {
  background: var(--red-accent);      /* theme color */
}
.toggle input:checked + .slider::before {
  transform: translateX(20px);
}

/* keyboard focus */
.toggle input:focus-visible + .slider {
  outline: 2px solid #93c5fd;
  outline-offset: 2px;
}

/* disabled (optional) */
.toggle input:disabled + .slider,
.toggle input:disabled ~ .label {
  opacity: .6;
  cursor: not-allowed;
}

/* label text */
.toggle .label {
  font-weight: 500;
}

/* === FAQ: subheader sizing & typography === */
#panel-faq h2 {
  font-size: 1.35rem;
  line-height: 1.25;
  margin: 0.6rem 0 0.35rem;
  letter-spacing: 0.2px;
}
#panel-faq h3 {
  font-size: 1.2rem;
  line-height: 1.25;
  margin: 0.5rem 0 0.3rem;
  letter-spacing: 0.15px;
}
#panel-faq p, #panel-faq li {
  line-height: 1.4;
  margin: 0.35rem 0;
}
#panel-faq .links {
  padding-left: 1.1rem;
  margin: 0.4rem 0 0.6rem;
}
#panel-faq .links li {
  margin: 0.25rem 0;
}


/* === Resources: mirror FAQ typography === */
#panel-resources h2 {
  font-size: 1.35rem;
  line-height: 1.25;
  margin: 0.6rem 0 0.35rem;
  letter-spacing: 0.2px;
}
#panel-resources h3 {
  font-size: 1.2rem;
  line-height: 1.25;
  margin: 0.5rem 0 0.3rem;
  letter-spacing: 0.15px;
}
#panel-resources p, #panel-resources li {
  line-height: 1.4;
  margin: 0.35rem 0;
}
#panel-resources .links {
  list-style: none;
  padding-left: 0;
  margin: 0.4rem 0 0.6rem;
}
#panel-resources .links li {
  margin: 0.25rem 0;
  position: relative;
  padding-left: 1.25rem;
}
#panel-resources .links li::before {
  content: "♥";
  position: absolute;
  left: 0;
  top: 0.05rem;
  font-size: 0.95rem;
  line-height: 1;
  color: var(--accent, #e11d48);
}

/* Footer (shown only inside Resources panel) */
#panel-resources .app-footer {
  margin-top: 10px;
  padding: 8px 10px 12px;
  border-top: 1px dashed rgba(0,0,0,.12);
  text-align: center;
}
#panel-resources .app-footer .footer-inner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px; /* tighter vertical spacing */
}
#panel-resources .app-footer .bmc-wrap .bmc {
  position: relative;
  display: inline-block;
  padding: 8px 14px;
  border-radius: 10px;
  background: linear-gradient(var(--accent-1, var(--accent)), var(--accent-2, var(--accent)));
  border: 1px solid var(--accent-border, var(--accent));
  color: #fff;
  text-decoration: none;
  font-weight: 700;
  font-size: 12px;
  letter-spacing: .2px;
  box-shadow:
    0 3px 0 var(--accent-press, rgba(0,0,0,.22)),
    0 6px 14px var(--accent-shadow, rgba(0,0,0,.18)),
    inset 0 1px 0 rgba(255,255,255,.25);
  transition: transform .06s ease, filter .12s ease, box-shadow .12s ease;
}
#panel-resources .app-footer .bmc-wrap .bmc::before{
  content: "";
  position: absolute; left:0; right:0; top:0; height:50%;
  background: linear-gradient(to bottom, rgba(255,255,255,.45), rgba(255,255,255,.12));
  border-radius: inherit;
  pointer-events: none;
}
#panel-resources .app-footer .bmc-wrap .bmc:hover{ filter: brightness(1.03); }
#panel-resources .app-footer .bmc-wrap .bmc:active{
  transform: translateY(1px);
  box-shadow:
    0 1px 0 var(--accent-press-active, var(--accent-press, rgba(0,0,0,.22))),
    0 3px 10px var(--accent-shadow, rgba(0,0,0,.16)),
    inset 0 1px 0 rgba(255,255,255,.2);
}
#panel-resources .app-footer .bmc-wrap .bmc:focus-visible{ outline: 3px solid var(--focus-ring, #7aa2ff); outline-offset:2px; }
#panel-resources .app-footer p {
  margin: 2px 0 0; /* slightly closer to button */
  font-size: 12px;
  opacity: .85;
}

/* Match Resources "Useful Links" heading to FAQ subheaders */
#panel-resources h3 {
  color: var(--text-strong, #111);
  font-family: inherit;
}

/* === Ensure Resources "Useful Links" heading matches FAQ subheaders === */
section#panel-faq.panel h3,
section#panel-resources.panel h3 {
  color: var(--accent, #8a1414);
  font-family: 'Dancing Script', cursive !important;
  font-weight: 400 !important;
  font-size: 1.7rem !important;
  letter-spacing: 0.5px;
  line-height: 1.2;
}
